{"ast":null,"code":"var _jsxFileName = \"/home/garrett/GitHub/mental-math/src/CurrentQuestion.js\";\nimport React, { Component } from 'react'; // Ramda\n\nimport * as R from 'ramda'; // Latex\n\nimport 'katex/dist/katex.min.css';\nimport { InlineMath } from 'react-katex';\nlet initialState = {\n  meterValue: null,\n  presetExponent: 1,\n  presetName: null\n};\n\nclass Presets extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.handlePresetChange = event => {\n      let {\n        value\n      } = event.target; // find which  unit was selected\n\n      let {\n        presetsSet\n      } = this.props;\n      let presetsIndex = R.findIndex(R.propEq('name', value))(presetsSet);\n\n      if (presetsIndex !== -1) {\n        this.setState(presetsSet[presetsIndex].state);\n        this.setState({\n          presetName: value\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      let {\n        name,\n        value\n      } = event.target; // The [ ] brackets here are the setState synatx\n\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  render() {\n    let {\n      number,\n      presetExponent,\n      presetName\n    } = this.state;\n    let {\n      handleSubmit,\n      presetsSet,\n      currentNumber\n    } = this.props; // preset options\n\n    let presetsFill = R.map((x, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x.name,\n        name: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 53\n        }\n      }, x.name);\n    }, presetsSet); // Standardized factored latex output\n\n    let LatexOutputFactored = props => {\n      let {\n        input\n      } = props;\n      let numbersplit = exponentSeparate(input.number);\n      let tenpower = '';\n\n      if (Number(numbersplit[1])) {\n        tenpower = '\\\\times 10^{' + numbersplit[1] + '}';\n      }\n\n      let unitfactor = '';\n\n      if (Number(input.unitsExponent)) {\n        unitfactor = '\\\\  \\\\mathrm{' + input.units + '}';\n      }\n\n      return /*#__PURE__*/React.createElement(InlineMath, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, ' \\\\left (' + numbersplit[0] + tenpower + unitfactor + ' \\\\right) ^{' + input.unitsExponent + '}');\n    }; // raising presets to a power, using that all units are in terms of meters\n\n\n    let presetExponentiator = (obj, exponent) => {\n      let output = R.clone(obj);\n      output.number = Math.pow(obj.number, exponent);\n      output.meterValue = 1;\n      output.units = 'm';\n      output.unitsExponent = exponent;\n      output.overallExponent = 1;\n      let presetsIndex = R.findIndex(R.propEq('name', this.state.presetName))(this.props.presetsSet);\n      output.latex = presetsSet[presetsIndex].latex;\n      return output;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, \"Presets \", currentNumber, \" \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"unitsPreset\",\n      id: \"unitsPreset\",\n      value: presetName || '',\n      onChange: this.handlePresetChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }), presetsFill), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"Exponent\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"presetExponent\",\n      id: \"presetExponent\",\n      value: presetExponent || '',\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Submit\",\n      onClick: () => {\n        if (!number) {\n          alert('Please choose a quantity');\n          this.setState(initialState);\n        } else if (Number(presetExponent) === 0) {\n          alert('Please choose a non-zero exponent');\n          this.setState(initialState);\n        } else {\n          handleSubmit(presetExponentiator(this.state, presetExponent));\n          this.setState(initialState);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Presets;","map":{"version":3,"sources":["/home/garrett/GitHub/mental-math/src/CurrentQuestion.js"],"names":["React","Component","R","InlineMath","initialState","meterValue","presetExponent","presetName","Presets","state","handlePresetChange","event","value","target","presetsSet","props","presetsIndex","findIndex","propEq","setState","handleChange","name","render","number","handleSubmit","currentNumber","presetsFill","map","x","i","LatexOutputFactored","input","numbersplit","exponentSeparate","tenpower","Number","unitfactor","unitsExponent","units","presetExponentiator","obj","exponent","output","clone","Math","pow","overallExponent","latex","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\n// Ramda\nimport * as R from 'ramda';\n\n\n// Latex\nimport 'katex/dist/katex.min.css';\nimport { InlineMath } from 'react-katex';\n\n\nlet initialState = {\n    meterValue: null,\n    presetExponent: 1,\n    presetName: null,\n};\n\nclass Presets extends Component {\n\n    state = initialState;\n\n    // event handlers\n    handlePresetChange = event => {\n        let { value } = event.target;\n        // find which  unit was selected\n        let { presetsSet } = this.props;\n        let presetsIndex = R.findIndex(R.propEq('name', value))(presetsSet);\n        if (presetsIndex !== -1) {\n            this.setState(\n                presetsSet[presetsIndex].state\n            );\n            this.setState(\n                { presetName: value }\n            );\n        }\n    }\n\n    handleChange = event => {\n        let { name, value } = event.target\n        // The [ ] brackets here are the setState synatx\n        this.setState({\n            [name]: value,\n        })\n    }\n\n\n\n\n\n\n    render() {\n\n        let { number, presetExponent, presetName } = this.state;\n        let { handleSubmit, presetsSet, currentNumber } = this.props;\n\n\n        // preset options\n        let presetsFill = R.map((x, i) => { return (<option key={x.name} name={i}>{x.name}</option>) }, presetsSet);\n\n\n        \n// Standardized factored latex output\n\nlet LatexOutputFactored = (props) => {\n    let { input } = props;\n    let numbersplit = exponentSeparate(input.number);\n    let tenpower = '';\n    if (Number(numbersplit[1])) {\n      tenpower = '\\\\times 10^{' + numbersplit[1] + '}';\n    }\n    let unitfactor = '';\n    if (Number(input.unitsExponent)) {\n      unitfactor = '\\\\  \\\\mathrm{' + input.units + '}';\n    }\n  \n    return (\n      <InlineMath>\n        {' \\\\left (' + numbersplit[0] + tenpower + unitfactor + ' \\\\right) ^{' + input.unitsExponent + '}'}\n      </InlineMath>\n    );\n  };\n\n\n        // raising presets to a power, using that all units are in terms of meters\n        let presetExponentiator = (obj, exponent) => {\n\n            let output = R.clone(obj);\n            output.number = Math.pow(obj.number, exponent);\n            output.meterValue = 1;\n            output.units = 'm';\n            output.unitsExponent = exponent;\n            output.overallExponent = 1;\n            let presetsIndex = R.findIndex(R.propEq('name', this.state.presetName))(this.props.presetsSet);\n            output.latex = presetsSet[presetsIndex].latex;\n            return (output)\n\n        }\n\n\n        return (\n\n            <div>\n                <form>\n                    <label>Presets {currentNumber} </label>\n                    <select\n                        name=\"unitsPreset\"\n                        id=\"unitsPreset\"\n                        value={presetName || ''}\n                        onChange={this.handlePresetChange}\n                    >\n                        <option value=\"\"></option>\n                        {presetsFill}\n                    </select>\n\n                    <label>Exponent</label>\n                    <input\n                        type=\"number\"\n                        name=\"presetExponent\"\n                        id=\"presetExponent\"\n                        value={presetExponent || ''}\n                        onChange={this.handleChange}\n                    />\n                </form>\n\n                <input\n                    type=\"button\"\n                    value=\"Submit\"\n                    onClick={() => {\n                        if (!number) {\n                            alert('Please choose a quantity');\n                            this.setState(initialState);\n                        } else if (Number(presetExponent) === 0) {\n                            alert('Please choose a non-zero exponent');\n                            this.setState(initialState);\n                        }\n                        else {\n                            handleSubmit(\n                                presetExponentiator(this.state, presetExponent)\n                            );\n                            this.setState(initialState);\n                        }\n                    }\n                    }\n                />\n\n            </div>\n        )\n    }\n\n}\n\n\nexport default Presets"]},"metadata":{},"sourceType":"module"}