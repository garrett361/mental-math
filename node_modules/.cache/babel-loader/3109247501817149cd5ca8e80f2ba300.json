{"ast":null,"code":"var _jsxFileName = \"/home/garrett/GitHub/mental-math/src/CurrentQuestion.js\";\nimport React, { Component } from 'react'; // Ramda\n\nimport * as R from 'ramda';\nlet initialState = {\n  meterValue: null,\n  presetExponent: 1,\n  presetName: null\n};\n\nclass Presets extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.handlePresetChange = event => {\n      let {\n        value\n      } = event.target; // find which  unit was selected\n\n      let {\n        presetsSet\n      } = this.props;\n      let presetsIndex = R.findIndex(R.propEq('name', value))(presetsSet);\n\n      if (presetsIndex !== -1) {\n        this.setState(presetsSet[presetsIndex].state);\n        this.setState({\n          presetName: value\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      let {\n        name,\n        value\n      } = event.target; // The [ ] brackets here are the setState synatx\n\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  render() {\n    let {\n      number,\n      presetExponent,\n      presetName\n    } = this.state;\n    let {\n      handleSubmit,\n      presetsSet,\n      currentNumber\n    } = this.props; // preset options\n\n    let presetsFill = R.map((x, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x.name,\n        name: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 53\n        }\n      }, x.name);\n    }, presetsSet); // Standardized latex output\n\n    let LatexOutput = props => {\n      let {\n        input\n      } = props;\n\n      if (input.latex) {\n        if (Number(input.unitsExponent) !== 1) {\n          return /*#__PURE__*/React.createElement(InlineMath, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }\n          }, input.latex + '^{' + input.unitsExponent + '}');\n        } else {\n          return /*#__PURE__*/React.createElement(InlineMath, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }\n          }, input.latex);\n        }\n\n        ;\n      } else {\n        let numbersplit = exponentSeparate(input.number);\n        let tenpower = '';\n\n        if (numbersplit[1]) {\n          tenpower = '\\\\times 10^{' + numbersplit[1] + '}';\n        }\n\n        let unitfactor = '';\n\n        if (input.units !== 'GN') {\n          if (Number(input.unitsExponent) && input.units) {\n            if (Number(input.unitsExponent) !== 1) {\n              unitfactor = '\\\\  \\\\mathrm{' + input.units + '} ^{' + input.unitsExponent + '}';\n            } else {\n              unitfactor = '\\\\  \\\\mathrm{' + input.units + '}';\n            }\n\n            ;\n          }\n        }\n\n        if (input.overallExponent && input.overallExponent !== 1) {\n          return /*#__PURE__*/React.createElement(InlineMath, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }\n          }, '\\\\left(' + numbersplit[0] + tenpower + unitfactor + '\\\\right)^{' + input.overallExponent + '}');\n        } else {\n          return /*#__PURE__*/React.createElement(InlineMath, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }\n          }, numbersplit[0] + tenpower + unitfactor);\n        }\n\n        ;\n      }\n\n      ;\n    }; // raising presets to a power, using that all units are in terms of meters\n\n\n    let presetExponentiator = (obj, exponent) => {\n      let output = R.clone(obj);\n      output.number = Math.pow(obj.number, exponent);\n      output.meterValue = 1;\n      output.units = 'm';\n      output.unitsExponent = exponent;\n      output.overallExponent = 1;\n      let presetsIndex = R.findIndex(R.propEq('name', this.state.presetName))(this.props.presetsSet);\n      output.latex = presetsSet[presetsIndex].latex;\n      return output;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, \"Presets \", currentNumber, \" \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"unitsPreset\",\n      id: \"unitsPreset\",\n      value: presetName || '',\n      onChange: this.handlePresetChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }), presetsFill), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Exponent\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"presetExponent\",\n      id: \"presetExponent\",\n      value: presetExponent || '',\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Submit\",\n      onClick: () => {\n        if (!number) {\n          alert('Please choose a quantity');\n          this.setState(initialState);\n        } else if (Number(presetExponent) === 0) {\n          alert('Please choose a non-zero exponent');\n          this.setState(initialState);\n        } else {\n          handleSubmit(presetExponentiator(this.state, presetExponent));\n          this.setState(initialState);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Presets;","map":{"version":3,"sources":["/home/garrett/GitHub/mental-math/src/CurrentQuestion.js"],"names":["React","Component","R","initialState","meterValue","presetExponent","presetName","Presets","state","handlePresetChange","event","value","target","presetsSet","props","presetsIndex","findIndex","propEq","setState","handleChange","name","render","number","handleSubmit","currentNumber","presetsFill","map","x","i","LatexOutput","input","latex","Number","unitsExponent","numbersplit","exponentSeparate","tenpower","unitfactor","units","overallExponent","presetExponentiator","obj","exponent","output","clone","Math","pow","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\n// Ramda\nimport * as R from 'ramda';\n\n\n\nlet initialState = {\n    meterValue: null,\n    presetExponent: 1,\n    presetName: null,\n};\n\nclass Presets extends Component {\n\n    state = initialState;\n\n    // event handlers\n    handlePresetChange = event => {\n        let { value } = event.target;\n        // find which  unit was selected\n        let { presetsSet } = this.props;\n        let presetsIndex = R.findIndex(R.propEq('name', value))(presetsSet);\n        if (presetsIndex !== -1) {\n            this.setState(\n                presetsSet[presetsIndex].state\n            );\n            this.setState(\n                { presetName: value }\n            );\n        }\n    }\n\n    handleChange = event => {\n        let { name, value } = event.target\n        // The [ ] brackets here are the setState synatx\n        this.setState({\n            [name]: value,\n        })\n    }\n\n\n\n\n\n\n    render() {\n\n        let { number, presetExponent, presetName } = this.state;\n        let { handleSubmit, presetsSet, currentNumber } = this.props;\n\n\n        // preset options\n        let presetsFill = R.map((x, i) => { return (<option key={x.name} name={i}>{x.name}</option>) }, presetsSet);\n\n\n        // Standardized latex output\n        let LatexOutput = (props) => {\n            let { input } = props;\n            if (input.latex) {\n                if (Number(input.unitsExponent) !== 1) {\n                    return (\n                        <InlineMath>\n                            {input.latex + '^{' + input.unitsExponent + '}'}\n                        </InlineMath>\n                    );\n                } else {\n                    return (\n                        <InlineMath>\n                            {input.latex}\n                        </InlineMath>\n                    );\n                };\n            } else {\n                let numbersplit = exponentSeparate(input.number);\n                let tenpower = '';\n                if (numbersplit[1]) {\n                    tenpower = '\\\\times 10^{' + numbersplit[1] + '}';\n                }\n                let unitfactor = '';\n                if (input.units !== 'GN') {\n                    if (Number(input.unitsExponent) && input.units) {\n                        if (Number(input.unitsExponent) !== 1) {\n                            unitfactor = '\\\\  \\\\mathrm{' + input.units + '} ^{' + input.unitsExponent + '}';\n                        } else {\n                            unitfactor = '\\\\  \\\\mathrm{' + input.units + '}';\n                        };\n                    }\n                }\n\n                if (input.overallExponent && input.overallExponent !== 1) {\n                    return (\n                        <InlineMath>\n                            {'\\\\left(' + numbersplit[0] + tenpower + unitfactor + '\\\\right)^{' + input.overallExponent + '}'}\n                        </InlineMath>\n                    )\n                } else {\n                    return (\n                        <InlineMath>\n                            {numbersplit[0] + tenpower + unitfactor}\n                        </InlineMath>\n                    );\n                };\n            };\n        };\n\n\n        // raising presets to a power, using that all units are in terms of meters\n        let presetExponentiator = (obj, exponent) => {\n\n            let output = R.clone(obj);\n            output.number = Math.pow(obj.number, exponent);\n            output.meterValue = 1;\n            output.units = 'm';\n            output.unitsExponent = exponent;\n            output.overallExponent = 1;\n            let presetsIndex = R.findIndex(R.propEq('name', this.state.presetName))(this.props.presetsSet);\n            output.latex = presetsSet[presetsIndex].latex;\n            return (output)\n\n        }\n\n\n        return (\n\n            <div>\n                <form>\n                    <label>Presets {currentNumber} </label>\n                    <select\n                        name=\"unitsPreset\"\n                        id=\"unitsPreset\"\n                        value={presetName || ''}\n                        onChange={this.handlePresetChange}\n                    >\n                        <option value=\"\"></option>\n                        {presetsFill}\n                    </select>\n\n                    <label>Exponent</label>\n                    <input\n                        type=\"number\"\n                        name=\"presetExponent\"\n                        id=\"presetExponent\"\n                        value={presetExponent || ''}\n                        onChange={this.handleChange}\n                    />\n                </form>\n\n                <input\n                    type=\"button\"\n                    value=\"Submit\"\n                    onClick={() => {\n                        if (!number) {\n                            alert('Please choose a quantity');\n                            this.setState(initialState);\n                        } else if (Number(presetExponent) === 0) {\n                            alert('Please choose a non-zero exponent');\n                            this.setState(initialState);\n                        }\n                        else {\n                            handleSubmit(\n                                presetExponentiator(this.state, presetExponent)\n                            );\n                            this.setState(initialState);\n                        }\n                    }\n                    }\n                />\n\n            </div>\n        )\n    }\n\n}\n\n\nexport default Presets"]},"metadata":{},"sourceType":"module"}